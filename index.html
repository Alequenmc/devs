<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"> <!-- Corregido de UTF-T a UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunidad DEVS - Grupos de WhatsApp</title>
    <!-- Cargar Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Importar Google Font "Anton" para el logo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Añadido: Link a Font Awesome para los iconos de marcas -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* Estilo base con el fondo solicitado */
        body {
            background-color: #141414; /* Color de fondo actualizado */
            font-family: 'Inter', sans-serif;
            color: #e5e7eb; /* text-gray-200 */
        }
        
        /* Estilo para el logo */
        .logo {
            font-family: 'Anton', sans-serif;
            letter-spacing: 1.5px;
        }
        
        /* Estilo para las tarjetas con borde sólido */
        .card-border {
            border: 1px solid #262626; /* border-neutral-800 */
            /* Fondo actualizado para coincidir con el body */
            /* background: linear-gradient(#141414, #141414) padding-box,
                        linear-gradient(120deg, #3b82f6, #a855f7) border-box; */ /* Gradiente eliminado */
            transition: all 0.3s ease;
        }
        
        .card-border:hover {
            transform: translateY(-4px) scale(1.02);
            border-color: #404040; /* border-neutral-700 */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1); /* Sombra estándar de Tailwind (lg) */
        }
        
        /* Estilo para los botones de navegación (Tabs) */
        .nav-tab {
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }
        
        .nav-tab.active {
            background-color: #262626; /* bg-neutral-800 */
            color: #ffffff;
        }
        
        .nav-tab:not(.active):hover {
            background-color: #171717; /* bg-neutral-900 */
        }
        
        /* Ocultar contenido inactivo */
        .content-section.hidden {
            display: none;
        }

        /* Añadido: Estilo para los nuevos iconos de Font Awesome */
        .social-icon i {
            font-size: 24px; /* 1.5rem, para igualar el w-6 h-6 anterior */
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Encabezado -->
    <!-- Actualizado: border-neutral-800, bg-[#141414]/90, backdrop-blur-lg -->
    <header class="border-b border-neutral-800 sticky top-0 bg-[#141414]/90 backdrop-blur-lg z-10">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="logo text-4xl text-white">DEVS</a>
            
            <!-- Navegación SPA (Tabs) -->
            <!-- Actualizado: border-neutral-700 -->
            <div class="flex space-x-2 border border-neutral-700 p-1 rounded-lg">
                <button id="tab-grupos" class="nav-tab active">Grupos</button>
                <button id="tab-admins" class="nav-tab">Admins</button>
            </div>
        </nav>
    </header>

    <!-- Contenido Principal -->
    <main class="container mx-auto px-6 py-12">
    
        <!-- Sección de Grupos (visible por defecto) -->
        <section id="content-grupos" class="content-section">
            <h1 class="text-4xl font-bold text-white mb-4">Grupos de la Comunidad</h1>
            <p class="text-lg text-gray-400 mb-10">Explora y únete a nuestros grupos de WhatsApp para conectar y aprender.</p>
            
            <!-- Contenedor de la cuadrícula de grupos -->
            <div id="grupos-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Las tarjetas de grupo se insertarán aquí por JS -->
                <!-- Indicador de carga simple -->
                <p class="text-gray-400 col-span-full">Cargando grupos...</p>
            </div>
        </section>
        
        <!-- Sección de Administradores (oculta por defecto) -->
        <section id="content-admins" class="content-section hidden">
            <h1 class="text-4xl font-bold text-white mb-4">Administradores</h1>
            <p class="text-lg text-gray-400 mb-10">El equipo que mantiene viva y ordenada a la comunidad.</p>
            
            <!-- Contenedor de la cuadrícula de admins -->
            <div id="admins-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Las tarjetas de admin se insertarán aquí por JS -->
            </div>
        </section>

    </main>

    <!-- Footer -->
    <!-- Actualizado: border-neutral-800 -->
    <footer class="container mx-auto px-6 py-8 mt-12 border-t border-neutral-800">
        <p class="text-center text-gray-500">&copy; 2025 Comunidad DEVS. Todos los derechos reservados.</p>
    </footer>

    <!-- Plantillas de Tarjetas (para clonar con JS) -->
    <template id="grupo-card-template">
        <a href="#" target="_blank" rel="noopener noreferrer" class="grupo-card-link block">
            <!-- Actualizado: bg-neutral-900 -->
            <div class="card-border bg-neutral-900 p-6 rounded-xl h-full flex flex-col">
                <div class="flex items-center mb-4">
                    <!-- 1. CAMBIO EN LA PLANTILLA: Esto ahora es un <img> -->
                    <img src="" alt="" class="grupo-imagen w-12 h-12 rounded-lg object-cover mr-4">
                    
                    <!-- Título -->
                    <h3 class="grupo-titulo text-xl font-bold text-white"></h3>
                </div>
                <!-- Descripción -->
                <p class="grupo-descripcion text-gray-400 text-sm flex-grow"></p>
                
                <!-- Botón de Unirse -->
                <div class="mt-5">
                    <span class="inline-block bg-blue-600 text-white text-sm font-medium px-4 py-2 rounded-md hover:bg-blue-700 transition-colors">
                        Unirse al grupo &rarr;
                    </span>
                </div>
            </div>
        </a>
    </template>
    
    <template id="admin-card-template">
        <!-- Actualizado: bg-neutral-900 -->
        <div class="card-border bg-neutral-900 p-6 rounded-xl h-full flex flex-col">
            <div class="flex items-center mb-5">
                <!-- Foto de perfil -->
                <img src="" alt="" class="admin-foto w-16 h-16 rounded-full mr-5 border-2 border-indigo-500">
                <div>
                    <!-- Nombre -->
                    <h3 class="admin-nombre text-2xl font-bold text-white"></h3>
                    <!-- Descripción corta -->
                    <p class="admin-desc text-indigo-300 text-sm"></p>
                </div>
            </div>
            
            <!-- Grupos que administra -->
            <div class="mb-5">
                <h4 class="text-xs font-semibold text-gray-400 uppercase mb-2">Administra</h4>
                <div class="admin-grupos flex flex-wrap gap-2">
                    <!-- Se insertarán por JS -->
                </div>
            </div>
            
            <!-- Links Sociales -->
            <div class="admin-links mt-auto flex space-x-3">
                <!-- Se insertarán por JS -->
            </div>
        </div>
    </template>

    <script>
        // --- LÓGICA DE LA APLICACIÓN ---
        
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Lógica de Pestañas (Tabs) ---
            const tabGrupos = document.getElementById('tab-grupos');
            const tabAdmins = document.getElementById('tab-admins');
            const contentGrupos = document.getElementById('content-grupos');
            const contentAdmins = document.getElementById('content-admins');
            
            tabGrupos.addEventListener('click', () => {
                tabGrupos.classList.add('active');
                tabAdmins.classList.remove('active');
                contentGrupos.classList.remove('hidden');
                contentAdmins.classList.add('hidden');
            });
            
            tabAdmins.addEventListener('click', () => {
                tabAdmins.classList.add('active');
                tabGrupos.classList.remove('active');
                contentAdmins.classList.remove('hidden');
                contentGrupos.classList.add('hidden');
            });

            // --- Cargar Datos y Renderizar ---
            fetch('datos.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('No se pudo cargar datos.json. Estado: ' + response.status);
                    }
                    return response.json();
                })
                .then(data => {
                    const gruposData = data.grupos;
                    const adminsData = data.admins;
                    
                    renderizarGrupos(gruposData);
                    renderizarAdmins(adminsData);
                })
                .catch(error => {
                    console.error('Error al cargar los datos:', error);
                    document.getElementById('grupos-grid').innerHTML = '<p class="text-red-400 col-span-full">Error al cargar los grupos. Revisa la consola.</p>';
                });

            
            function renderizarGrupos(gruposData) {
                const gruposGrid = document.getElementById('grupos-grid');
                const grupoTemplate = document.getElementById('grupo-card-template');
                gruposGrid.innerHTML = ''; // Limpiar el mensaje de "Cargando..."

                gruposData.forEach(grupo => {
                    // Clonar la plantilla
                    const card = grupoTemplate.content.cloneNode(true);
                    
                    // Rellenar los datos de la plantilla
                    card.querySelector('.grupo-card-link').href = grupo.link;
                    
                    // 2. CAMBIO EN EL SCRIPT: Asignar 'src' y 'alt' al <img>
                    const imgEl = card.querySelector('.grupo-imagen');
                    imgEl.src = grupo.imagen;
                    imgEl.alt = `Logo del grupo ${grupo.titulo}`;
                    
                    card.querySelector('.grupo-titulo').textContent = grupo.titulo;
                    card.querySelector('.grupo-descripcion').textContent = grupo.descripcion;
                    
                    // Añadir la tarjeta al grid
                    gruposGrid.appendChild(card);
                });
            }
            
            function renderizarAdmins(adminsData) {
                const adminsGrid = document.getElementById('admins-grid');
                const adminTemplate = document.getElementById('admin-card-template');
                adminsGrid.innerHTML = ''; // Limpiar por si acaso
                
                // Iterar y renderizar cada admin
                adminsData.forEach(admin => {
                    const card = adminTemplate.content.cloneNode(true);
                    
                    // --- Poblar Info del Admin ---
                    card.querySelector('.admin-foto').src = admin.foto;
                    card.querySelector('.admin-foto').alt = `Foto de ${admin.nombre}`;
                    card.querySelector('.admin-nombre').textContent = admin.nombre;
                    card.querySelector('.admin-desc').textContent = admin.descripcion;
                    
                    // --- Poblar Grupos que Administra ---
                    const gruposContainer = card.querySelector('.admin-grupos');
                    admin.grupos.forEach(nombreGrupo => {
                        const tag = document.createElement('span');
                        // Actualizado: bg-neutral-800
                        tag.className = "px-2 py-0.5 bg-neutral-800 text-indigo-300 text-xs font-medium rounded-full";
                        tag.textContent = nombreGrupo;
                        gruposContainer.appendChild(tag);
                    });
                    
                    // --- Poblar Links Sociales ---
                    const linksContainer = card.querySelector('.admin-links');
                    admin.links.forEach(link => {
                        const a = document.createElement('a');
                        a.href = link.url;
                        a.target = "_blank";
                        a.rel = "noopener noreferrer";

                        if (link.tipo === 'github') {
                            // Actualizado: Usar clases de Font Awesome
                            a.className = "social-icon text-gray-400 hover:text-white transition-colors";
                            a.innerHTML = `<i class="fa-brands fa-github"></i>`;
                        } else if (link.tipo === 'linkedin') {
                            // Actualizado: Usar clases de Font Awesome
                            a.className = "social-icon text-gray-400 hover:text-white transition-colors";
                            a.innerHTML = `<i class="fa-brands fa-linkedin"></i>`;
                        }
                        linksContainer.appendChild(a);
                    });
                    
                    adminsGrid.appendChild(card);
                });
            }
            
        });
    </script>
</body>
</html>
